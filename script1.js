function add_class_on_scroll(e){e.classList.add("show")}function remove_class_on_scroll(e){e.classList.remove("show")}function init(){new SmoothScroll('a[href*="#"]'),$(".entry img").filter(function(e){return!$(this).parents("a").length&&!!($(this).attr("width")&&$(this).attr("width")>380)}).toArray()}var body=document.body;Element.prototype.addClass=function(e){var t=this.className.split(" ");-1===t.indexOf(e)&&t.push(e),this.className=t.join(" ")},Element.prototype.removeClass=function(e){var t=this.className.split(" "),n=t.indexOf(e);-1!==n&&t.splice(n,1),this.className=t.join(" ")},document.getElementById("open-nav").onclick=function(e){return body.addClass("nav-is-open"),e.preventDefault(),!1},document.getElementById("close-nav").onclick=function(e){return body.removeClass("nav-is-open"),e.preventDefault(),!1};var scrollpos=window.scrollY,top_button=document.getElementById("top_button");window.addEventListener("scroll",function(){scrollpos=window.scrollY,scrollpos>=100?add_class_on_scroll(top_button):remove_class_on_scroll(top_button)});var transition=Barba.BaseTransition.extend({start:function(){this.newContainerLoading.then(this.finish.bind(this))},finish:function(){window.scrollTo(0,0),this.done()}});Barba.Pjax.getTransition=function(){return transition},Barba.Pjax.originalPreventCheck=Barba.Pjax.preventCheck,Barba.Pjax.preventCheck=function(e,t){return!!Barba.Pjax.originalPreventCheck(e,t)&&!/./.test(t.href.toLowerCase())},Barba.Prefetch.init(),Barba.Pjax.start(),Barba.Dispatcher.on("newPageReady",function(e,t,n){init()});var relativeDate=function(e){function t(t,n){!n&&(n=(new Date).getTime()),n instanceof Date&&(n=n.getTime()),t instanceof Date&&(t=t.getTime());var a,r,s,i=n-t;for(r=-1,s=o.length;++r<s;)if(a=o[r],i<a[0])return a[2]==e?a[1]:Math.round(i/a[2])+" "+a[1]}var n=864e5,o=[[42e3,"just now"],[9e4,"a minute ago"],[36e5,"minutes ago",6e4],[54e5,"an hour ago"],[n,"hours ago",36e5],[2*n,"yesterday"],[7*n,"days ago",n],[9072e5,"a week ago"],[2628e6,"weeks ago",6048e5],[3942e6,"a month ago"],[31536e6,"months ago",2628e6],[47304e6,"a year ago"],[Number.MAX_VALUE,"years ago",31536e6]];return t}(),dates=document.querySelectorAll("[date-from-now]");dates.forEach(function(e){var t=parseInt(e.getAttribute("date-from-now"));if(isNaN(t))return console.log("No date parsed");if(Date.now()-t>7776e6)return console.log("Date too old");var n=relativeDate(new Date(t));e.innerHTML=n}),$(function(){init()});